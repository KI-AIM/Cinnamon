<app-info-card [hidden]="error === ''" typeClass="card-failure">
    <div [innerHTML]="error"></div>
</app-info-card>

<div>
    <div
        class="mb-3 alert alert-warning" role="alert"
        *ngIf="fileService.fileConfiguration.fileType == FileType.XLSX">
        <b>WARNING:</b> For XLSX files, Dates can not be estimated correctly, because Excel stores them as numbers internally. They will instead be configured as INTEGER. <br/>
        Please make sure, that you configure every column that contains dates manually.
    </div>
    <!-- Upload -->
    <div class="py-1">
        <app-configuration-upload #configurationUpload [configurationName]="configuration.CONFIGURATION_NAME"
                                  (onUpload)="handleConfigUpload($event);" [disabled]="locked">
        </app-configuration-upload>
    </div>
    <div class="mt-2">
        Configure the attributes of the dataset:
    </div>

    <div class="d-flex flex-column">
        <form *ngIf="form" [formGroup]="form">
            <div formArrayName="configurations">
                <div *ngFor="let columnConfig of getColumnConfigurationForms(form); let i = index" [formGroupName]="i">
                    <app-attribute-configuration #attributeConfiguration [attrNumber]="i.toString()"
                                                 [disabled]="locked" (onInput)="checkUniqueColumnNames()"
                                                 [columnConfigurationForm]="columnConfig">
                    </app-attribute-configuration>
                </div>
            </div>

        </form>
    </div>

    <div class="btn-group">
        <div class="px-1">
            <button mat-raised-button color="primary" (click)="confirmConfiguration()" [disabled]="form.invalid || locked">Confirm configuration and start validation</button>
        </div>
    </div>
</div>
