<ng-template #configurationManagement>
    <mat-dialog-content class="mat-typography">

        <!-- Error -->
        <app-info-card [hidden]="error === ''" typeClass="card-failure">
            <div>{{error}}</div>
        </app-info-card>

        <!-- Configuration selection -->
        <div>Select configurations to download</div>
        <div *ngFor="let config of configurationService.getRegisteredConfigurations()">
            <span>
                <mat-checkbox [id]="config.name" color="primary" [disabled]="!stateManagementService.isStepCompleted(config.availableAfterStep)">
                    {{config.displayName}}
                </mat-checkbox>
            </span>
        </div>

        <div>Download</div>
        <button mat-raised-button color="primary" (click)="downloadAllConfigurations()"
                [disabled]="!stateManagementService.isStepCompleted(Steps.UPLOAD)">
            <mat-icon>file_download</mat-icon>
            Download
        </button>

        <div>Upload</div>
        <span style="width: 50%;">
            <input id="configInput" type="file" accept=".yml,.yaml"
                   [disabled]="!stateManagementService.isStepCompleted(Steps.UPLOAD)">
        </span>
        <span style="width: 50%;">
            <button mat-raised-button color="primary" (click)="uploadAllConfigurations()"
                    [disabled]="!stateManagementService.isStepCompleted(Steps.UPLOAD)">
                <mat-icon>file_upload</mat-icon>
                Upload
            </button>
        </span>

    </mat-dialog-content>
    <mat-dialog-actions align="end">
        <button mat-raised-button mat-dialog-close color="primary">Close</button>
    </mat-dialog-actions>
</ng-template>
